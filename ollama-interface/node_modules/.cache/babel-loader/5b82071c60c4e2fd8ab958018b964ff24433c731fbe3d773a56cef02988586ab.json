{"ast":null,"code":"var _jsxFileName = \"D:\\\\2025\\\\Taller de Especialidad\\\\Project-Ollama\\\\ollama-interface\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Copy, Check, Paperclip, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CodeBlock = ({\n  code,\n  language\n}) => {\n  _s();\n  const [copied, setCopied] = useState(false);\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(code);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Error al copiar:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      marginBottom: '16px',\n      borderRadius: '8px',\n      overflow: 'hidden',\n      backgroundColor: '#1e1e1e',\n      border: '1px solid #3e3e3e'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '8px 16px',\n        backgroundColor: '#2d2d2d',\n        borderBottom: '1px solid #3e3e3e'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '12px',\n          color: '#858585',\n          fontFamily: 'monospace',\n          textTransform: 'lowercase'\n        },\n        children: language || 'code'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCopy,\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '6px',\n          padding: '4px 12px',\n          backgroundColor: copied ? '#4CAF50' : 'transparent',\n          color: copied ? '#fff' : '#858585',\n          border: '1px solid',\n          borderColor: copied ? '#4CAF50' : '#3e3e3e',\n          borderRadius: '4px',\n          cursor: 'pointer',\n          fontSize: '12px',\n          transition: 'all 0.2s ease',\n          fontFamily: 'system-ui, -apple-system, sans-serif'\n        },\n        onMouseEnter: e => {\n          if (!copied) {\n            e.currentTarget.style.backgroundColor = '#3e3e3e';\n            e.currentTarget.style.color = '#fff';\n          }\n        },\n        onMouseLeave: e => {\n          if (!copied) {\n            e.currentTarget.style.backgroundColor = 'transparent';\n            e.currentTarget.style.color = '#858585';\n          }\n        },\n        children: copied ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Check, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), \"Copiado\"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Copy, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), \"Copiar\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      style: {\n        margin: 0,\n        padding: '16px',\n        overflow: 'auto',\n        fontSize: '14px',\n        lineHeight: '1.5',\n        fontFamily: 'Consolas, Monaco, \"Courier New\", monospace',\n        color: '#d4d4d4',\n        backgroundColor: '#1e1e1e'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"code\", {\n        children: code\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n};\n_s(CodeBlock, \"NE86rL3vg4NVcTTWDavsT0hUBJs=\");\n_c = CodeBlock;\nconst ResponseDisplay = ({\n  response\n}) => {\n  const parseResponse = text => {\n    const parts = [];\n    const codeBlockRegex = /```(\\w+)?\\n([\\s\\S]*?)```/g;\n    let lastIndex = 0;\n    let match;\n    while ((match = codeBlockRegex.exec(text)) !== null) {\n      if (match.index > lastIndex) {\n        const textContent = text.slice(lastIndex, match.index);\n        if (textContent.trim()) {\n          parts.push({\n            type: 'text',\n            content: textContent\n          });\n        }\n      }\n      parts.push({\n        type: 'code',\n        language: match[1] || 'code',\n        content: match[2].trim()\n      });\n      lastIndex = match.index + match[0].length;\n    }\n    if (lastIndex < text.length) {\n      const textContent = text.slice(lastIndex);\n      if (textContent.trim()) {\n        parts.push({\n          type: 'text',\n          content: textContent\n        });\n      }\n    }\n    return parts.length > 0 ? parts : [{\n      type: 'text',\n      content: text\n    }];\n  };\n  const parts = parseResponse(response);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: parts.map((part, index) => {\n      if (part.type === 'code') {\n        return /*#__PURE__*/_jsxDEV(CodeBlock, {\n          code: part.content,\n          language: part.language\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            backgroundColor: 'transparent',\n            border: 'none',\n            padding: '0',\n            margin: '0 0 16px 0',\n            overflow: 'auto',\n            fontSize: '15px',\n            lineHeight: '1.6',\n            fontFamily: 'system-ui, -apple-system, sans-serif',\n            whiteSpace: 'pre-wrap',\n            wordBreak: 'break-word',\n            color: '#2d3748'\n          },\n          children: part.content\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this);\n      }\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n};\n_c2 = ResponseDisplay;\nconst ChatMessage = ({\n  message,\n  isUser\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: isUser ? 'flex-end' : 'flex-start',\n      marginBottom: '16px',\n      animation: 'fadeIn 0.3s ease-in'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '85%',\n        backgroundColor: isUser ? '#4CAF50' : '#f0f0f0',\n        color: isUser ? 'white' : '#333',\n        borderRadius: '12px',\n        padding: '12px 16px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      },\n      children: isUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '15px',\n          lineHeight: '1.5',\n          whiteSpace: 'pre-wrap',\n          wordBreak: 'break-word'\n        },\n        children: [message.databaseQuery && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'rgba(255,255,255,0.2)',\n            borderRadius: '6px',\n            padding: '6px 10px',\n            marginBottom: '8px',\n            fontSize: '12px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px'\n          },\n          children: \"\\uD83D\\uDDC4\\uFE0F Consulta a base de datos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }, this), message.attachedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: 'rgba(255,255,255,0.2)',\n            borderRadius: '6px',\n            padding: '8px',\n            marginBottom: '8px',\n            fontSize: '13px',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: message.attachedFile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 15\n        }, this), message.content]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ResponseDisplay, {\n          response: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), message.sql && /*#__PURE__*/_jsxDEV(\"details\", {\n          style: {\n            marginTop: '12px',\n            backgroundColor: '#e3f2fd',\n            borderRadius: '6px',\n            padding: '10px',\n            fontSize: '13px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            style: {\n              cursor: 'pointer',\n              fontWeight: 'bold',\n              color: '#1976d2'\n            },\n            children: \"\\uD83D\\uDCCA Ver SQL ejecutado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              marginTop: '8px',\n              padding: '10px',\n              backgroundColor: '#fff',\n              borderRadius: '4px',\n              overflow: 'auto',\n              fontSize: '12px',\n              fontFamily: 'monospace'\n            },\n            children: message.sql\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 17\n          }, this), message.results && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"Resultados (\", Array.isArray(message.results) ? message.results.length : 0, \" filas):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n              style: {\n                marginTop: '4px',\n                padding: '10px',\n                backgroundColor: '#fff',\n                borderRadius: '4px',\n                overflow: 'auto',\n                fontSize: '11px',\n                maxHeight: '200px'\n              },\n              children: JSON.stringify(message.results, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\n_c3 = ChatMessage;\nfunction App() {\n  _s2();\n  var _databaseInfo$tables;\n  const [prompt, setPrompt] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [model, setModel] = useState('deepseek-coder:6.7b');\n  const [temperature, setTemperature] = useState(0.7);\n  const [maxTokens, setMaxTokens] = useState(1024);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const [attachedFile, setAttachedFile] = useState(null);\n  const [fileContent, setFileContent] = useState('');\n  const [databaseMode, setDatabaseMode] = useState(false);\n  const [databaseConnected, setDatabaseConnected] = useState(false);\n  const [databaseInfo, setDatabaseInfo] = useState(null);\n  const fileInputRef = useRef(null);\n  const chatContainerRef = useRef(null);\n  const commonModels = [{\n    name: 'phi:2.7b',\n    memory: '~1.6GB',\n    description: 'â­ Ligero - Recomendado para 2GB RAM'\n  }, {\n    name: 'tinyllama:1.1b',\n    memory: '~700MB',\n    description: 'ðŸš€ Ultra ligero - BÃ¡sico pero rÃ¡pido'\n  }, {\n    name: 'qwen:1.8b',\n    memory: '~1.1GB',\n    description: 'ðŸ’¡ PequeÃ±o pero potente'\n  }, {\n    name: 'deepseek-coder:1.3b',\n    memory: '~800MB',\n    description: 'ðŸ‘¨â€ðŸ’» CÃ³digo - Ultra ligero'\n  }, {\n    name: 'deepseek-coder:6.7b',\n    memory: '~3.3GB',\n    description: 'âŒ Requiere 4GB+ RAM'\n  }, {\n    name: 'llama2:7b',\n    memory: '~3.8GB',\n    description: 'âŒ Requiere 4GB+ RAM'\n  }, {\n    name: 'codellama:7b',\n    memory: '~3.8GB',\n    description: 'âŒ Requiere 4GB+ RAM'\n  }];\n  const predefinedPrompts = [\"Escribe un hola mundo en Python\", \"Crea una funciÃ³n en JavaScript que ordene un array\", \"Explica quÃ© es recursiÃ³n con un ejemplo\", \"Crea un componente React simple\", \"Escribe una consulta SQL bÃ¡sica\"];\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [chatHistory, isLoading]);\n  useEffect(() => {\n    checkDatabaseConnection();\n  }, []);\n  const checkDatabaseConnection = async () => {\n    try {\n      const result = await fetch('http://localhost:3001/api/get-database-info', {\n        method: 'POST'\n      });\n      const data = await result.json();\n      if (data.success) {\n        setDatabaseConnected(true);\n        setDatabaseInfo(data);\n      }\n    } catch (error) {\n      console.log('Base de datos no conectada');\n    }\n  };\n  const handleFileSelect = e => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 500000) {\n        setError('El archivo es demasiado grande. MÃ¡ximo 500KB permitido.');\n        return;\n      }\n      setAttachedFile(file);\n      const reader = new FileReader();\n      reader.onload = event => {\n        const content = event.target.result;\n        const limitedContent = content.length > 10000 ? content.substring(0, 10000) + '\\n\\n[... contenido truncado ...]' : content;\n        setFileContent(limitedContent);\n      };\n      reader.readAsText(file);\n    }\n  };\n  const handleRemoveFile = () => {\n    setAttachedFile(null);\n    setFileContent('');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!prompt.trim()) return;\n    const userMessage = {\n      role: 'user',\n      content: prompt,\n      attachedFile: attachedFile ? {\n        name: attachedFile.name,\n        size: attachedFile.size\n      } : null,\n      databaseQuery: databaseMode\n    };\n    setChatHistory(prev => [...prev, userMessage]);\n    const currentPrompt = prompt;\n    const currentFileContent = fileContent;\n    const currentAttachedFile = attachedFile;\n    setPrompt('');\n    setAttachedFile(null);\n    setFileContent('');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n    setIsLoading(true);\n    setError('');\n    try {\n      if (databaseMode) {\n        const response = await fetch('http://localhost:3001/api/query-database', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            question: currentPrompt,\n            model: model,\n            options: {\n              temperature: temperature,\n              num_predict: maxTokens,\n              top_k: 40,\n              top_p: 0.9,\n              repeat_penalty: 1.1\n            }\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        const assistantMessage = {\n          role: 'assistant',\n          content: data.response,\n          sql: data.sql,\n          results: data.results\n        };\n        setChatHistory(prev => [...prev, assistantMessage]);\n      } else {\n        let finalPrompt = currentPrompt;\n        if (currentFileContent) {\n          if (currentFileContent.length > 5000 && model.includes('6.7b')) {\n            const shouldSwitch = window.confirm('âš ï¸ El archivo es grande y el modelo actual puede tardar mucho.\\n\\n' + 'Â¿Deseas cambiar temporalmente a un modelo mÃ¡s ligero (qwen:1.8b) para esta consulta?');\n            if (shouldSwitch) {\n              setModel('qwen:1.8b');\n            }\n          }\n          finalPrompt = `Contexto del archivo \"${currentAttachedFile.name}\":\\n\\n${currentFileContent}\\n\\n---\\n\\nConsulta del usuario: ${currentPrompt}`;\n        }\n        const assistantMessageIndex = chatHistory.length + 1;\n        setChatHistory(prev => [...prev, {\n          role: 'assistant',\n          content: '',\n          streaming: true\n        }]);\n        const response = await fetch('http://localhost:3001/api/generate-stream', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            model: model,\n            prompt: finalPrompt,\n            options: {\n              temperature: temperature,\n              num_predict: maxTokens,\n              top_k: 40,\n              top_p: 0.9,\n              repeat_penalty: 1.1,\n              num_ctx: 2048,\n              num_gpu: 99,\n              num_thread: 8\n            }\n          })\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const reader = response.body.getReader();\n        const decoder = new TextDecoder();\n        let accumulatedText = '';\n        while (true) {\n          const {\n            done,\n            value\n          } = await reader.read();\n          if (done) break;\n          const chunk = decoder.decode(value);\n          const lines = chunk.split('\\n').filter(line => line.trim().startsWith('data:'));\n          for (const line of lines) {\n            const data = line.replace(/^data: /, '');\n            try {\n              const parsed = JSON.parse(data);\n              if (parsed.token) {\n                accumulatedText += parsed.token;\n                setChatHistory(prev => {\n                  const newHistory = [...prev];\n                  newHistory[assistantMessageIndex] = {\n                    role: 'assistant',\n                    content: accumulatedText,\n                    streaming: true\n                  };\n                  return newHistory;\n                });\n              }\n              if (parsed.done) {\n                setChatHistory(prev => {\n                  const newHistory = [...prev];\n                  newHistory[assistantMessageIndex] = {\n                    role: 'assistant',\n                    content: accumulatedText,\n                    streaming: false\n                  };\n                  return newHistory;\n                });\n              }\n            } catch (e) {\n              console.error('Parse error:', e);\n            }\n          }\n        }\n      }\n    } catch (err) {\n      console.error('Submit error:', err);\n      setError(`Error: ${err.message}`);\n      if (err.message.includes('fetch') || err.message.includes('Failed to fetch')) {\n        setError('No se puede conectar al servidor backend. AsegÃºrate de que estÃ© ejecutÃ¡ndose en localhost:3001');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const clearAll = () => {\n    setPrompt('');\n    setChatHistory([]);\n    setError('');\n    setDatabaseMode(false);\n    handleRemoveFile();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontFamily: 'Arial, sans-serif',\n      maxWidth: '1000px',\n      margin: '0 auto',\n      padding: '20px',\n      backgroundColor: '#f5f5f5',\n      minHeight: '100vh',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: 'white',\n        borderRadius: '12px',\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        display: 'flex',\n        flexDirection: 'column',\n        height: 'calc(100vh - 40px)',\n        maxHeight: '900px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '20px 30px',\n          borderBottom: '2px solid #e0e0e0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: '#333',\n            margin: '0 0 10px 0',\n            fontSize: '2.2em'\n          },\n          children: \"\\uD83E\\uDD16 Interfaz Ollama\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#666',\n            margin: '0',\n            fontSize: '1.1em'\n          },\n          children: \"Backend: localhost:3001 \\u2192 Ollama: localhost:11434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px 30px',\n          borderBottom: '1px solid #e0e0e0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n            gap: '15px',\n            marginBottom: '15px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '8px',\n                fontWeight: 'bold',\n                color: '#333',\n                fontSize: '14px'\n              },\n              children: \"Modelo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: model,\n              onChange: e => setModel(e.target.value),\n              disabled: isLoading,\n              style: {\n                width: '100%',\n                padding: '8px',\n                border: '2px solid #ddd',\n                borderRadius: '6px',\n                fontSize: '13px',\n                backgroundColor: isLoading ? '#f9f9f9' : 'white'\n              },\n              children: commonModels.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: m.name,\n                children: [m.name, \" - \", m.description]\n              }, m.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowAdvanced(!showAdvanced),\n              style: {\n                flex: 1,\n                padding: '8px 15px',\n                backgroundColor: showAdvanced ? '#4CAF50' : '#2196F3',\n                color: 'white',\n                border: 'none',\n                borderRadius: '6px',\n                fontSize: '13px',\n                cursor: 'pointer'\n              },\n              children: showAdvanced ? 'ðŸ”§ Ocultar' : 'âš™ï¸ Opciones'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 15\n            }, this), databaseConnected && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setDatabaseMode(!databaseMode),\n              style: {\n                flex: 1,\n                padding: '8px 15px',\n                backgroundColor: databaseMode ? '#FF9800' : '#9C27B0',\n                color: 'white',\n                border: 'none',\n                borderRadius: '6px',\n                fontSize: '13px',\n                cursor: 'pointer',\n                fontWeight: 'bold'\n              },\n              children: databaseMode ? 'ðŸ—„ï¸ BD Activa' : 'ðŸ—„ï¸ Activar BD'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearAll,\n              disabled: isLoading,\n              style: {\n                padding: '8px 15px',\n                backgroundColor: isLoading ? '#ccc' : '#f44336',\n                color: 'white',\n                border: 'none',\n                borderRadius: '6px',\n                fontSize: '13px',\n                fontWeight: 'bold',\n                cursor: isLoading ? 'not-allowed' : 'pointer'\n              },\n              children: \"\\uD83D\\uDDD1\\uFE0F Limpiar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 627,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 11\n        }, this), showAdvanced && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#f8f9fa',\n            padding: '15px',\n            borderRadius: '8px',\n            border: '1px solid #dee2e6'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n              gap: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  marginBottom: '8px',\n                  fontWeight: 'bold',\n                  color: '#333',\n                  fontSize: '13px'\n                },\n                children: [\"Temperatura: \", temperature]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"2\",\n                step: \"0.1\",\n                value: temperature,\n                onChange: e => setTemperature(parseFloat(e.target.value)),\n                disabled: isLoading,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#666',\n                  fontSize: '11px'\n                },\n                children: \"Creatividad (0 = conservador, 2 = creativo)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  marginBottom: '8px',\n                  fontWeight: 'bold',\n                  color: '#333',\n                  fontSize: '13px'\n                },\n                children: [\"Max Tokens: \", maxTokens]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"256\",\n                max: \"4096\",\n                step: \"256\",\n                value: maxTokens,\n                onChange: e => setMaxTokens(parseInt(e.target.value)),\n                disabled: isLoading,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#666',\n                  fontSize: '11px'\n                },\n                children: \"Longitud m\\xE1xima de respuesta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatContainerRef,\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          padding: '20px 30px',\n          backgroundColor: '#fafafa'\n        },\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#ffebee',\n            border: '1px solid #f44336',\n            borderRadius: '8px',\n            padding: '15px',\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              color: '#f44336',\n              margin: '0 0 8px 0',\n              fontSize: '1em'\n            },\n            children: \"\\u274C Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#d32f2f',\n              margin: '0',\n              fontSize: '14px'\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 13\n        }, this), chatHistory.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '40px 20px',\n            color: '#666'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              marginBottom: '20px',\n              color: '#333'\n            },\n            children: \"\\uD83D\\uDC4B \\xA1Bienvenido!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: \"Comienza una conversaci\\xF3n escribiendo tu consulta abajo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 15\n          }, this), databaseConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#e8f5e9',\n              border: '1px solid #4CAF50',\n              borderRadius: '8px',\n              padding: '15px',\n              marginBottom: '20px',\n              fontSize: '14px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                color: '#2e7d32',\n                marginBottom: '8px'\n              },\n              children: \"\\u2705 Base de datos conectada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 804,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#666',\n                fontSize: '13px'\n              },\n              children: [\"Tablas disponibles: \", (databaseInfo === null || databaseInfo === void 0 ? void 0 : (_databaseInfo$tables = databaseInfo.tables) === null || _databaseInfo$tables === void 0 ? void 0 : _databaseInfo$tables.join(', ')) || 'Cargando...']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '10px',\n                fontSize: '12px',\n                color: '#888'\n              },\n              children: \"\\uD83D\\uDCA1 Activa el modo BD para hacer consultas en tiempo real\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 17\n          }, this), !databaseConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#fff3e0',\n              border: '1px solid #FF9800',\n              borderRadius: '8px',\n              padding: '15px',\n              marginBottom: '20px',\n              fontSize: '14px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 'bold',\n                color: '#e65100',\n                marginBottom: '8px'\n              },\n              children: \"\\u26A0\\uFE0F Base de datos no conectada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#666',\n                fontSize: '13px'\n              },\n              children: \"Configura las credenciales en el backend para habilitar consultas SQL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontWeight: 'bold',\n                marginBottom: '15px',\n                fontSize: '0.9em'\n              },\n              children: \"\\uD83D\\uDCA1 Consultas de ejemplo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: '8px',\n                justifyContent: 'center'\n              },\n              children: predefinedPrompts.map((predPrompt, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setPrompt(predPrompt),\n                disabled: isLoading,\n                style: {\n                  padding: '8px 12px',\n                  backgroundColor: '#e3f2fd',\n                  color: '#1976d2',\n                  border: '1px solid #bbdefb',\n                  borderRadius: '20px',\n                  fontSize: '12px',\n                  cursor: isLoading ? 'not-allowed' : 'pointer',\n                  transition: 'all 0.2s'\n                },\n                onMouseOver: e => {\n                  if (!isLoading) {\n                    e.target.style.backgroundColor = '#bbdefb';\n                  }\n                },\n                onMouseOut: e => {\n                  if (!isLoading) {\n                    e.target.style.backgroundColor = '#e3f2fd';\n                  }\n                },\n                children: predPrompt\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 834,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 13\n        }, this), chatHistory.map((message, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n          message: message,\n          isUser: message.role === 'user'\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 883,\n          columnNumber: 13\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-start',\n            marginBottom: '16px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#f0f0f0',\n              borderRadius: '12px',\n              padding: '12px 16px',\n              boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '6px',\n                alignItems: 'center',\n                marginBottom: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '8px',\n                  height: '8px',\n                  borderRadius: '50%',\n                  backgroundColor: '#666',\n                  animation: 'bounce 1.4s infinite ease-in-out both',\n                  animationDelay: '-0.32s'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 908,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '8px',\n                  height: '8px',\n                  borderRadius: '50%',\n                  backgroundColor: '#666',\n                  animation: 'bounce 1.4s infinite ease-in-out both',\n                  animationDelay: '-0.16s'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 916,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: '8px',\n                  height: '8px',\n                  borderRadius: '50%',\n                  backgroundColor: '#666',\n                  animation: 'bounce 1.4s infinite ease-in-out both'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 924,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '11px',\n                color: '#999'\n              },\n              children: databaseMode ? 'Consultando base de datos...' : attachedFile ? 'Procesando archivo...' : 'Generando respuesta...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 932,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px 30px',\n          borderTop: '1px solid #e0e0e0',\n          backgroundColor: 'white'\n        },\n        children: [databaseMode && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#fff3e0',\n            border: '1px solid #FF9800',\n            borderRadius: '8px',\n            padding: '10px 15px',\n            marginBottom: '10px',\n            fontSize: '13px',\n            color: '#e65100',\n            fontWeight: 'bold',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          children: \"\\uD83D\\uDDC4\\uFE0F Modo Base de Datos Activo - Las consultas se ejecutar\\xE1n en tiempo real\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 946,\n          columnNumber: 13\n        }, this), attachedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#e3f2fd',\n            border: '1px solid #2196F3',\n            borderRadius: '8px',\n            padding: '10px',\n            marginBottom: '10px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Paperclip, {\n              size: 16,\n              color: \"#1976d2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 'bold',\n                  color: '#1976d2',\n                  fontSize: '13px'\n                },\n                children: attachedFile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 977,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '11px',\n                  color: '#666'\n                },\n                children: [(attachedFile.size / 1024).toFixed(2), \" KB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 980,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 974,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRemoveFile,\n            style: {\n              background: 'transparent',\n              border: 'none',\n              cursor: 'pointer',\n              color: '#f44336',\n              padding: '5px',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 997,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          style: {\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: prompt,\n            onChange: e => setPrompt(e.target.value),\n            placeholder: databaseMode ? \"Pregunta sobre tu base de datos (ej: Â¿CuÃ¡ntos registros hay en la tabla usuarios?)\" : \"Escribe tu mensaje aquÃ­...\",\n            disabled: isLoading,\n            onKeyDown: e => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSubmit(e);\n              }\n            },\n            style: {\n              width: '100%',\n              minHeight: '60px',\n              maxHeight: '150px',\n              padding: '12px 90px 12px 15px',\n              border: databaseMode ? '2px solid #FF9800' : '2px solid #ddd',\n              borderRadius: '8px',\n              fontSize: '15px',\n              fontFamily: 'inherit',\n              resize: 'vertical',\n              outline: 'none',\n              transition: 'border-color 0.3s',\n              backgroundColor: isLoading ? '#f9f9f9' : 'white'\n            },\n            onFocus: e => e.target.style.borderColor = databaseMode ? '#FF9800' : '#4CAF50',\n            onBlur: e => e.target.style.borderColor = databaseMode ? '#FF9800' : '#ddd'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              right: '10px',\n              bottom: '10px',\n              display: 'flex',\n              gap: '8px'\n            },\n            children: [!databaseMode && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                var _fileInputRef$current;\n                return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n              },\n              disabled: isLoading,\n              style: {\n                background: 'transparent',\n                border: 'none',\n                cursor: isLoading ? 'not-allowed' : 'pointer',\n                padding: '8px',\n                borderRadius: '6px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                transition: 'background-color 0.2s'\n              },\n              onMouseEnter: e => {\n                if (!isLoading) e.currentTarget.style.backgroundColor = '#f0f0f0';\n              },\n              onMouseLeave: e => {\n                e.currentTarget.style.backgroundColor = 'transparent';\n              },\n              children: /*#__PURE__*/_jsxDEV(Paperclip, {\n                size: 20,\n                color: isLoading ? '#ccc' : '#666'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1062,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1040,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: isLoading || !prompt.trim(),\n              style: {\n                padding: '8px 16px',\n                backgroundColor: isLoading || !prompt.trim() ? '#ccc' : databaseMode ? '#FF9800' : '#4CAF50',\n                color: 'white',\n                border: 'none',\n                borderRadius: '6px',\n                fontSize: '14px',\n                fontWeight: 'bold',\n                cursor: isLoading || !prompt.trim() ? 'not-allowed' : 'pointer',\n                transition: 'background-color 0.3s'\n              },\n              children: isLoading ? 'â³' : 'ðŸš€'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            accept: \".sql,.txt,.js,.py,.java,.cpp,.c,.html,.css,.json,.xml,.csv\",\n            onChange: handleFileSelect,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1085,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1002,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '11px',\n            color: '#999',\n            marginTop: '8px',\n            textAlign: 'center'\n          },\n          children: databaseMode ? 'ðŸ—„ï¸ Modo BD: Tus preguntas generarÃ¡n y ejecutarÃ¡n SQL automÃ¡ticamente' : 'Presiona Enter para enviar, Shift + Enter para nueva lÃ­nea'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1094,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 940,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes bounce {\n          0%, 80%, 100% {\n            transform: scale(0);\n          }\n          40% {\n            transform: scale(1);\n          }\n        }\n        \n        * {\n          box-sizing: border-box;\n        }\n        \n        body {\n          margin: 0;\n          padding: 0;\n          background-color: #f5f5f5;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 549,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"MulnIfK0041d9DD6+Sli5KOXOXM=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"CodeBlock\");\n$RefreshReg$(_c2, \"ResponseDisplay\");\n$RefreshReg$(_c3, \"ChatMessage\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Copy","Check","Paperclip","X","jsxDEV","_jsxDEV","Fragment","_Fragment","CodeBlock","code","language","_s","copied","setCopied","handleCopy","navigator","clipboard","writeText","setTimeout","err","console","error","style","position","marginBottom","borderRadius","overflow","backgroundColor","border","children","display","justifyContent","alignItems","padding","borderBottom","fontSize","color","fontFamily","textTransform","fileName","_jsxFileName","lineNumber","columnNumber","onClick","gap","borderColor","cursor","transition","onMouseEnter","e","currentTarget","onMouseLeave","size","margin","lineHeight","_c","ResponseDisplay","response","parseResponse","text","parts","codeBlockRegex","lastIndex","match","exec","index","textContent","slice","trim","push","type","content","length","map","part","whiteSpace","wordBreak","_c2","ChatMessage","message","isUser","animation","maxWidth","boxShadow","databaseQuery","attachedFile","name","sql","marginTop","fontWeight","results","Array","isArray","maxHeight","JSON","stringify","_c3","App","_s2","_databaseInfo$tables","prompt","setPrompt","chatHistory","setChatHistory","isLoading","setIsLoading","setError","model","setModel","temperature","setTemperature","maxTokens","setMaxTokens","showAdvanced","setShowAdvanced","setAttachedFile","fileContent","setFileContent","databaseMode","setDatabaseMode","databaseConnected","setDatabaseConnected","databaseInfo","setDatabaseInfo","fileInputRef","chatContainerRef","commonModels","memory","description","predefinedPrompts","current","scrollTop","scrollHeight","checkDatabaseConnection","result","fetch","method","data","json","success","log","handleFileSelect","file","target","files","reader","FileReader","onload","event","limitedContent","substring","readAsText","handleRemoveFile","value","handleSubmit","preventDefault","userMessage","role","prev","currentPrompt","currentFileContent","currentAttachedFile","headers","body","question","options","num_predict","top_k","top_p","repeat_penalty","ok","Error","status","assistantMessage","finalPrompt","includes","shouldSwitch","window","confirm","assistantMessageIndex","streaming","num_ctx","num_gpu","num_thread","getReader","decoder","TextDecoder","accumulatedText","done","read","chunk","decode","lines","split","filter","line","startsWith","replace","parsed","parse","token","newHistory","clearAll","minHeight","flexDirection","height","textAlign","gridTemplateColumns","onChange","disabled","width","m","flex","min","max","step","parseFloat","parseInt","ref","overflowY","tables","join","flexWrap","predPrompt","onMouseOver","onMouseOut","animationDelay","borderTop","toFixed","background","onSubmit","placeholder","onKeyDown","key","shiftKey","resize","outline","onFocus","onBlur","right","bottom","_fileInputRef$current","click","accept","_c4","$RefreshReg$"],"sources":["D:/2025/Taller de Especialidad/Project-Ollama/ollama-interface/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { Copy, Check, Paperclip, X } from 'lucide-react';\n\nconst CodeBlock = ({ code, language }) => {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(code);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Error al copiar:', err);\n    }\n  };\n\n  return (\n    <div style={{\n      position: 'relative',\n      marginBottom: '16px',\n      borderRadius: '8px',\n      overflow: 'hidden',\n      backgroundColor: '#1e1e1e',\n      border: '1px solid #3e3e3e'\n    }}>\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        padding: '8px 16px',\n        backgroundColor: '#2d2d2d',\n        borderBottom: '1px solid #3e3e3e'\n      }}>\n        <span style={{\n          fontSize: '12px',\n          color: '#858585',\n          fontFamily: 'monospace',\n          textTransform: 'lowercase'\n        }}>\n          {language || 'code'}\n        </span>\n        <button\n          onClick={handleCopy}\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n            padding: '4px 12px',\n            backgroundColor: copied ? '#4CAF50' : 'transparent',\n            color: copied ? '#fff' : '#858585',\n            border: '1px solid',\n            borderColor: copied ? '#4CAF50' : '#3e3e3e',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: '12px',\n            transition: 'all 0.2s ease',\n            fontFamily: 'system-ui, -apple-system, sans-serif'\n          }}\n          onMouseEnter={(e) => {\n            if (!copied) {\n              e.currentTarget.style.backgroundColor = '#3e3e3e';\n              e.currentTarget.style.color = '#fff';\n            }\n          }}\n          onMouseLeave={(e) => {\n            if (!copied) {\n              e.currentTarget.style.backgroundColor = 'transparent';\n              e.currentTarget.style.color = '#858585';\n            }\n          }}\n        >\n          {copied ? (\n            <>\n              <Check size={14} />\n              Copiado\n            </>\n          ) : (\n            <>\n              <Copy size={14} />\n              Copiar\n            </>\n          )}\n        </button>\n      </div>\n\n      <pre style={{\n        margin: 0,\n        padding: '16px',\n        overflow: 'auto',\n        fontSize: '14px',\n        lineHeight: '1.5',\n        fontFamily: 'Consolas, Monaco, \"Courier New\", monospace',\n        color: '#d4d4d4',\n        backgroundColor: '#1e1e1e'\n      }}>\n        <code>{code}</code>\n      </pre>\n    </div>\n  );\n};\n\nconst ResponseDisplay = ({ response }) => {\n  const parseResponse = (text) => {\n    const parts = [];\n    const codeBlockRegex = /```(\\w+)?\\n([\\s\\S]*?)```/g;\n    let lastIndex = 0;\n    let match;\n\n    while ((match = codeBlockRegex.exec(text)) !== null) {\n      if (match.index > lastIndex) {\n        const textContent = text.slice(lastIndex, match.index);\n        if (textContent.trim()) {\n          parts.push({\n            type: 'text',\n            content: textContent\n          });\n        }\n      }\n\n      parts.push({\n        type: 'code',\n        language: match[1] || 'code',\n        content: match[2].trim()\n      });\n\n      lastIndex = match.index + match[0].length;\n    }\n\n    if (lastIndex < text.length) {\n      const textContent = text.slice(lastIndex);\n      if (textContent.trim()) {\n        parts.push({\n          type: 'text',\n          content: textContent\n        });\n      }\n    }\n\n    return parts.length > 0 ? parts : [{ type: 'text', content: text }];\n  };\n\n  const parts = parseResponse(response);\n\n  return (\n    <div>\n      {parts.map((part, index) => {\n        if (part.type === 'code') {\n          return (\n            <CodeBlock\n              key={index}\n              code={part.content}\n              language={part.language}\n            />\n          );\n        } else {\n          return (\n            <pre key={index} style={{\n              backgroundColor: 'transparent',\n              border: 'none',\n              padding: '0',\n              margin: '0 0 16px 0',\n              overflow: 'auto',\n              fontSize: '15px',\n              lineHeight: '1.6',\n              fontFamily: 'system-ui, -apple-system, sans-serif',\n              whiteSpace: 'pre-wrap',\n              wordBreak: 'break-word',\n              color: '#2d3748'\n            }}>\n              {part.content}\n            </pre>\n          );\n        }\n      })}\n    </div>\n  );\n};\n\nconst ChatMessage = ({ message, isUser }) => {\n  return (\n    <div style={{\n      display: 'flex',\n      justifyContent: isUser ? 'flex-end' : 'flex-start',\n      marginBottom: '16px',\n      animation: 'fadeIn 0.3s ease-in'\n    }}>\n      <div style={{\n        maxWidth: '85%',\n        backgroundColor: isUser ? '#4CAF50' : '#f0f0f0',\n        color: isUser ? 'white' : '#333',\n        borderRadius: '12px',\n        padding: '12px 16px',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n      }}>\n        {isUser ? (\n          <div style={{\n            fontSize: '15px',\n            lineHeight: '1.5',\n            whiteSpace: 'pre-wrap',\n            wordBreak: 'break-word'\n          }}>\n            {message.databaseQuery && (\n              <div style={{\n                backgroundColor: 'rgba(255,255,255,0.2)',\n                borderRadius: '6px',\n                padding: '6px 10px',\n                marginBottom: '8px',\n                fontSize: '12px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px'\n              }}>\n                ðŸ—„ï¸ Consulta a base de datos\n              </div>\n            )}\n            {message.attachedFile && (\n              <div style={{\n                backgroundColor: 'rgba(255,255,255,0.2)',\n                borderRadius: '6px',\n                padding: '8px',\n                marginBottom: '8px',\n                fontSize: '13px',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px'\n              }}>\n                <Paperclip size={14} />\n                <span>{message.attachedFile.name}</span>\n              </div>\n            )}\n            {message.content}\n          </div>\n        ) : (\n          <div>\n            <ResponseDisplay response={message.content} />\n            {message.sql && (\n              <details style={{\n                marginTop: '12px',\n                backgroundColor: '#e3f2fd',\n                borderRadius: '6px',\n                padding: '10px',\n                fontSize: '13px'\n              }}>\n                <summary style={{ cursor: 'pointer', fontWeight: 'bold', color: '#1976d2' }}>\n                  ðŸ“Š Ver SQL ejecutado\n                </summary>\n                <pre style={{\n                  marginTop: '8px',\n                  padding: '10px',\n                  backgroundColor: '#fff',\n                  borderRadius: '4px',\n                  overflow: 'auto',\n                  fontSize: '12px',\n                  fontFamily: 'monospace'\n                }}>\n                  {message.sql}\n                </pre>\n                {message.results && (\n                  <div style={{ marginTop: '8px' }}>\n                    <strong>Resultados ({Array.isArray(message.results) ? message.results.length : 0} filas):</strong>\n                    <pre style={{\n                      marginTop: '4px',\n                      padding: '10px',\n                      backgroundColor: '#fff',\n                      borderRadius: '4px',\n                      overflow: 'auto',\n                      fontSize: '11px',\n                      maxHeight: '200px'\n                    }}>\n                      {JSON.stringify(message.results, null, 2)}\n                    </pre>\n                  </div>\n                )}\n              </details>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nfunction App() {\n  const [prompt, setPrompt] = useState('');\n  const [chatHistory, setChatHistory] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [model, setModel] = useState('deepseek-coder:6.7b');\n  const [temperature, setTemperature] = useState(0.7);\n  const [maxTokens, setMaxTokens] = useState(1024);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const [attachedFile, setAttachedFile] = useState(null);\n  const [fileContent, setFileContent] = useState('');\n  const [databaseMode, setDatabaseMode] = useState(false);\n  const [databaseConnected, setDatabaseConnected] = useState(false);\n  const [databaseInfo, setDatabaseInfo] = useState(null);\n  const fileInputRef = useRef(null);\n  const chatContainerRef = useRef(null);\n\n  const commonModels = [\n    { name: 'phi:2.7b', memory: '~1.6GB', description: 'â­ Ligero - Recomendado para 2GB RAM' },\n    { name: 'tinyllama:1.1b', memory: '~700MB', description: 'ðŸš€ Ultra ligero - BÃ¡sico pero rÃ¡pido' },\n    { name: 'qwen:1.8b', memory: '~1.1GB', description: 'ðŸ’¡ PequeÃ±o pero potente' },\n    { name: 'deepseek-coder:1.3b', memory: '~800MB', description: 'ðŸ‘¨â€ðŸ’» CÃ³digo - Ultra ligero' },\n    { name: 'deepseek-coder:6.7b', memory: '~3.3GB', description: 'âŒ Requiere 4GB+ RAM' },\n    { name: 'llama2:7b', memory: '~3.8GB', description: 'âŒ Requiere 4GB+ RAM' },\n    { name: 'codellama:7b', memory: '~3.8GB', description: 'âŒ Requiere 4GB+ RAM' }\n  ];\n\n  const predefinedPrompts = [\n    \"Escribe un hola mundo en Python\",\n    \"Crea una funciÃ³n en JavaScript que ordene un array\",\n    \"Explica quÃ© es recursiÃ³n con un ejemplo\",\n    \"Crea un componente React simple\",\n    \"Escribe una consulta SQL bÃ¡sica\"\n  ];\n\n  useEffect(() => {\n    if (chatContainerRef.current) {\n      chatContainerRef.current.scrollTop = chatContainerRef.current.scrollHeight;\n    }\n  }, [chatHistory, isLoading]);\n\n  useEffect(() => {\n    checkDatabaseConnection();\n  }, []);\n\n  const checkDatabaseConnection = async () => {\n    try {\n      const result = await fetch('http://localhost:3001/api/get-database-info', {\n        method: 'POST',\n      });\n      const data = await result.json();\n      if (data.success) {\n        setDatabaseConnected(true);\n        setDatabaseInfo(data);\n      }\n    } catch (error) {\n      console.log('Base de datos no conectada');\n    }\n  };\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      if (file.size > 500000) {\n        setError('El archivo es demasiado grande. MÃ¡ximo 500KB permitido.');\n        return;\n      }\n\n      setAttachedFile(file);\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        const content = event.target.result;\n        const limitedContent = content.length > 10000\n          ? content.substring(0, 10000) + '\\n\\n[... contenido truncado ...]'\n          : content;\n        setFileContent(limitedContent);\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleRemoveFile = () => {\n    setAttachedFile(null);\n    setFileContent('');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!prompt.trim()) return;\n\n    const userMessage = {\n      role: 'user',\n      content: prompt,\n      attachedFile: attachedFile ? { name: attachedFile.name, size: attachedFile.size } : null,\n      databaseQuery: databaseMode\n    };\n\n    setChatHistory(prev => [...prev, userMessage]);\n\n    const currentPrompt = prompt;\n    const currentFileContent = fileContent;\n    const currentAttachedFile = attachedFile;\n\n    setPrompt('');\n    setAttachedFile(null);\n    setFileContent('');\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      if (databaseMode) {\n        const response = await fetch('http://localhost:3001/api/query-database', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            question: currentPrompt,\n            model: model,\n            options: {\n              temperature: temperature,\n              num_predict: maxTokens,\n              top_k: 40,\n              top_p: 0.9,\n              repeat_penalty: 1.1\n            }\n          })\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const data = await response.json();\n\n        const assistantMessage = {\n          role: 'assistant',\n          content: data.response,\n          sql: data.sql,\n          results: data.results\n        };\n\n        setChatHistory(prev => [...prev, assistantMessage]);\n      } else {\n        let finalPrompt = currentPrompt;\n\n        if (currentFileContent) {\n          if (currentFileContent.length > 5000 && model.includes('6.7b')) {\n            const shouldSwitch = window.confirm(\n              'âš ï¸ El archivo es grande y el modelo actual puede tardar mucho.\\n\\n' +\n              'Â¿Deseas cambiar temporalmente a un modelo mÃ¡s ligero (qwen:1.8b) para esta consulta?'\n            );\n            if (shouldSwitch) {\n              setModel('qwen:1.8b');\n            }\n          }\n\n          finalPrompt = `Contexto del archivo \"${currentAttachedFile.name}\":\\n\\n${currentFileContent}\\n\\n---\\n\\nConsulta del usuario: ${currentPrompt}`;\n        }\n\n        const assistantMessageIndex = chatHistory.length + 1;\n        setChatHistory(prev => [...prev, {\n          role: 'assistant',\n          content: '',\n          streaming: true\n        }]);\n\n        const response = await fetch('http://localhost:3001/api/generate-stream', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            model: model,\n            prompt: finalPrompt,\n            options: {\n              temperature: temperature,\n              num_predict: maxTokens,\n              top_k: 40,\n              top_p: 0.9,\n              repeat_penalty: 1.1,\n              num_ctx: 2048,\n              num_gpu: 99,\n              num_thread: 8\n            }\n          })\n        });\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n\n        const reader = response.body.getReader();\n        const decoder = new TextDecoder();\n        let accumulatedText = '';\n\n        while (true) {\n          const { done, value } = await reader.read();\n\n          if (done) break;\n\n          const chunk = decoder.decode(value);\n          const lines = chunk.split('\\n').filter(line => line.trim().startsWith('data:'));\n\n          for (const line of lines) {\n            const data = line.replace(/^data: /, '');\n            try {\n              const parsed = JSON.parse(data);\n\n              if (parsed.token) {\n                accumulatedText += parsed.token;\n                setChatHistory(prev => {\n                  const newHistory = [...prev];\n                  newHistory[assistantMessageIndex] = {\n                    role: 'assistant',\n                    content: accumulatedText,\n                    streaming: true\n                  };\n                  return newHistory;\n                });\n              }\n\n              if (parsed.done) {\n                setChatHistory(prev => {\n                  const newHistory = [...prev];\n                  newHistory[assistantMessageIndex] = {\n                    role: 'assistant',\n                    content: accumulatedText,\n                    streaming: false\n                  };\n                  return newHistory;\n                });\n              }\n            } catch (e) {\n              console.error('Parse error:', e);\n            }\n          }\n        }\n      }\n    } catch (err) {\n      console.error('Submit error:', err);\n      setError(`Error: ${err.message}`);\n      if (err.message.includes('fetch') || err.message.includes('Failed to fetch')) {\n        setError('No se puede conectar al servidor backend. AsegÃºrate de que estÃ© ejecutÃ¡ndose en localhost:3001');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const clearAll = () => {\n    setPrompt('');\n    setChatHistory([]);\n    setError('');\n    setDatabaseMode(false);\n    handleRemoveFile();\n  };\n\n  return (\n    <div style={{\n      fontFamily: 'Arial, sans-serif',\n      maxWidth: '1000px',\n      margin: '0 auto',\n      padding: '20px',\n      backgroundColor: '#f5f5f5',\n      minHeight: '100vh',\n      display: 'flex',\n      flexDirection: 'column'\n    }}>\n      <div style={{\n        backgroundColor: 'white',\n        borderRadius: '12px',\n        boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)',\n        display: 'flex',\n        flexDirection: 'column',\n        height: 'calc(100vh - 40px)',\n        maxHeight: '900px'\n      }}>\n        <div style={{\n          textAlign: 'center',\n          padding: '20px 30px',\n          borderBottom: '2px solid #e0e0e0'\n        }}>\n          <h1 style={{\n            color: '#333',\n            margin: '0 0 10px 0',\n            fontSize: '2.2em'\n          }}>\n            ðŸ¤– Interfaz Ollama\n          </h1>\n          <p style={{\n            color: '#666',\n            margin: '0',\n            fontSize: '1.1em'\n          }}>\n            Backend: localhost:3001 â†’ Ollama: localhost:11434\n          </p>\n        </div>\n\n        <div style={{ padding: '20px 30px', borderBottom: '1px solid #e0e0e0' }}>\n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n            gap: '15px',\n            marginBottom: '15px'\n          }}>\n            <div>\n              <label style={{\n                display: 'block',\n                marginBottom: '8px',\n                fontWeight: 'bold',\n                color: '#333',\n                fontSize: '14px'\n              }}>\n                Modelo:\n              </label>\n              <select\n                value={model}\n                onChange={(e) => setModel(e.target.value)}\n                disabled={isLoading}\n                style={{\n                  width: '100%',\n                  padding: '8px',\n                  border: '2px solid #ddd',\n                  borderRadius: '6px',\n                  fontSize: '13px',\n                  backgroundColor: isLoading ? '#f9f9f9' : 'white'\n                }}\n              >\n                {commonModels.map(m => (\n                  <option key={m.name} value={m.name}>\n                    {m.name} - {m.description}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div style={{ display: 'flex', gap: '10px' }}>\n              <button\n                type=\"button\"\n                onClick={() => setShowAdvanced(!showAdvanced)}\n                style={{\n                  flex: 1,\n                  padding: '8px 15px',\n                  backgroundColor: showAdvanced ? '#4CAF50' : '#2196F3',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '6px',\n                  fontSize: '13px',\n                  cursor: 'pointer'\n                }}\n              >\n                {showAdvanced ? 'ðŸ”§ Ocultar' : 'âš™ï¸ Opciones'}\n              </button>\n              {databaseConnected && (\n                <button\n                  type=\"button\"\n                  onClick={() => setDatabaseMode(!databaseMode)}\n                  style={{\n                    flex: 1,\n                    padding: '8px 15px',\n                    backgroundColor: databaseMode ? '#FF9800' : '#9C27B0',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '6px',\n                    fontSize: '13px',\n                    cursor: 'pointer',\n                    fontWeight: 'bold'\n                  }}\n                >\n                  {databaseMode ? 'ðŸ—„ï¸ BD Activa' : 'ðŸ—„ï¸ Activar BD'}\n                </button>\n              )}\n              <button\n                onClick={clearAll}\n                disabled={isLoading}\n                style={{\n                  padding: '8px 15px',\n                  backgroundColor: isLoading ? '#ccc' : '#f44336',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '6px',\n                  fontSize: '13px',\n                  fontWeight: 'bold',\n                  cursor: isLoading ? 'not-allowed' : 'pointer'\n                }}\n              >\n                ðŸ—‘ï¸ Limpiar\n              </button>\n            </div>\n          </div>\n\n          {showAdvanced && (\n            <div style={{\n              backgroundColor: '#f8f9fa',\n              padding: '15px',\n              borderRadius: '8px',\n              border: '1px solid #dee2e6'\n            }}>\n              <div style={{\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n                gap: '15px'\n              }}>\n                <div>\n                  <label style={{\n                    display: 'block',\n                    marginBottom: '8px',\n                    fontWeight: 'bold',\n                    color: '#333',\n                    fontSize: '13px'\n                  }}>\n                    Temperatura: {temperature}\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"0\"\n                    max=\"2\"\n                    step=\"0.1\"\n                    value={temperature}\n                    onChange={(e) => setTemperature(parseFloat(e.target.value))}\n                    disabled={isLoading}\n                    style={{ width: '100%' }}\n                  />\n                  <small style={{ color: '#666', fontSize: '11px' }}>\n                    Creatividad (0 = conservador, 2 = creativo)\n                  </small>\n                </div>\n\n                <div>\n                  <label style={{\n                    display: 'block',\n                    marginBottom: '8px',\n                    fontWeight: 'bold',\n                    color: '#333',\n                    fontSize: '13px'\n                  }}>\n                    Max Tokens: {maxTokens}\n                  </label>\n                  <input\n                    type=\"range\"\n                    min=\"256\"\n                    max=\"4096\"\n                    step=\"256\"\n                    value={maxTokens}\n                    onChange={(e) => setMaxTokens(parseInt(e.target.value))}\n                    disabled={isLoading}\n                    style={{ width: '100%' }}\n                  />\n                  <small style={{ color: '#666', fontSize: '11px' }}>\n                    Longitud mÃ¡xima de respuesta\n                  </small>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div\n          ref={chatContainerRef}\n          style={{\n            flex: 1,\n            overflowY: 'auto',\n            padding: '20px 30px',\n            backgroundColor: '#fafafa'\n          }}\n        >\n          {error && (\n            <div style={{\n              backgroundColor: '#ffebee',\n              border: '1px solid #f44336',\n              borderRadius: '8px',\n              padding: '15px',\n              marginBottom: '20px'\n            }}>\n              <h4 style={{\n                color: '#f44336',\n                margin: '0 0 8px 0',\n                fontSize: '1em'\n              }}>\n                âŒ Error\n              </h4>\n              <p style={{\n                color: '#d32f2f',\n                margin: '0',\n                fontSize: '14px'\n              }}>\n                {error}\n              </p>\n            </div>\n          )}\n\n          {chatHistory.length === 0 && !isLoading && (\n            <div style={{\n              textAlign: 'center',\n              padding: '40px 20px',\n              color: '#666'\n            }}>\n              <h2 style={{ marginBottom: '20px', color: '#333' }}>\n                ðŸ‘‹ Â¡Bienvenido!\n              </h2>\n              <p style={{ marginBottom: '10px' }}>\n                Comienza una conversaciÃ³n escribiendo tu consulta abajo\n              </p>\n\n              {databaseConnected && (\n                <div style={{\n                  backgroundColor: '#e8f5e9',\n                  border: '1px solid #4CAF50',\n                  borderRadius: '8px',\n                  padding: '15px',\n                  marginBottom: '20px',\n                  fontSize: '14px'\n                }}>\n                  <div style={{ fontWeight: 'bold', color: '#2e7d32', marginBottom: '8px' }}>\n                    âœ… Base de datos conectada\n                  </div>\n                  <div style={{ color: '#666', fontSize: '13px' }}>\n                    Tablas disponibles: {databaseInfo?.tables?.join(', ') || 'Cargando...'}\n                  </div>\n                  <div style={{ marginTop: '10px', fontSize: '12px', color: '#888' }}>\n                    ðŸ’¡ Activa el modo BD para hacer consultas en tiempo real\n                  </div>\n                </div>\n              )}\n\n              {!databaseConnected && (\n                <div style={{\n                  backgroundColor: '#fff3e0',\n                  border: '1px solid #FF9800',\n                  borderRadius: '8px',\n                  padding: '15px',\n                  marginBottom: '20px',\n                  fontSize: '14px'\n                }}>\n                  <div style={{ fontWeight: 'bold', color: '#e65100', marginBottom: '8px' }}>\n                    âš ï¸ Base de datos no conectada\n                  </div>\n                  <div style={{ color: '#666', fontSize: '13px' }}>\n                    Configura las credenciales en el backend para habilitar consultas SQL\n                  </div>\n                </div>\n              )}\n\n              <div>\n                <p style={{\n                  fontWeight: 'bold',\n                  marginBottom: '15px',\n                  fontSize: '0.9em'\n                }}>\n                  ðŸ’¡ Consultas de ejemplo:\n                </p>\n                <div style={{\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: '8px',\n                  justifyContent: 'center'\n                }}>\n                  {predefinedPrompts.map((predPrompt, index) => (\n                    <button\n                      key={index}\n                      onClick={() => setPrompt(predPrompt)}\n                      disabled={isLoading}\n                      style={{\n                        padding: '8px 12px',\n                        backgroundColor: '#e3f2fd',\n                        color: '#1976d2',\n                        border: '1px solid #bbdefb',\n                        borderRadius: '20px',\n                        fontSize: '12px',\n                        cursor: isLoading ? 'not-allowed' : 'pointer',\n                        transition: 'all 0.2s'\n                      }}\n                      onMouseOver={(e) => {\n                        if (!isLoading) {\n                          e.target.style.backgroundColor = '#bbdefb';\n                        }\n                      }}\n                      onMouseOut={(e) => {\n                        if (!isLoading) {\n                          e.target.style.backgroundColor = '#e3f2fd';\n                        }\n                      }}\n                    >\n                      {predPrompt}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {chatHistory.map((message, index) => (\n            <ChatMessage\n              key={index}\n              message={message}\n              isUser={message.role === 'user'}\n            />\n          ))}\n\n          {isLoading && (\n            <div style={{\n              display: 'flex',\n              justifyContent: 'flex-start',\n              marginBottom: '16px'\n            }}>\n              <div style={{\n                backgroundColor: '#f0f0f0',\n                borderRadius: '12px',\n                padding: '12px 16px',\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n              }}>\n                <div style={{\n                  display: 'flex',\n                  gap: '6px',\n                  alignItems: 'center',\n                  marginBottom: '8px'\n                }}>\n                  <div style={{\n                    width: '8px',\n                    height: '8px',\n                    borderRadius: '50%',\n                    backgroundColor: '#666',\n                    animation: 'bounce 1.4s infinite ease-in-out both',\n                    animationDelay: '-0.32s'\n                  }}></div>\n                  <div style={{\n                    width: '8px',\n                    height: '8px',\n                    borderRadius: '50%',\n                    backgroundColor: '#666',\n                    animation: 'bounce 1.4s infinite ease-in-out both',\n                    animationDelay: '-0.16s'\n                  }}></div>\n                  <div style={{\n                    width: '8px',\n                    height: '8px',\n                    borderRadius: '50%',\n                    backgroundColor: '#666',\n                    animation: 'bounce 1.4s infinite ease-in-out both'\n                  }}></div>\n                </div>\n                <div style={{ fontSize: '11px', color: '#999' }}>\n                  {databaseMode ? 'Consultando base de datos...' : attachedFile ? 'Procesando archivo...' : 'Generando respuesta...'}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div style={{\n          padding: '20px 30px',\n          borderTop: '1px solid #e0e0e0',\n          backgroundColor: 'white'\n        }}>\n          {databaseMode && (\n            <div style={{\n              backgroundColor: '#fff3e0',\n              border: '1px solid #FF9800',\n              borderRadius: '8px',\n              padding: '10px 15px',\n              marginBottom: '10px',\n              fontSize: '13px',\n              color: '#e65100',\n              fontWeight: 'bold',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}>\n              ðŸ—„ï¸ Modo Base de Datos Activo - Las consultas se ejecutarÃ¡n en tiempo real\n            </div>\n          )}\n\n          {attachedFile && (\n            <div style={{\n              backgroundColor: '#e3f2fd',\n              border: '1px solid #2196F3',\n              borderRadius: '8px',\n              padding: '10px',\n              marginBottom: '10px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                <Paperclip size={16} color=\"#1976d2\" />\n                <div>\n                  <div style={{ fontWeight: 'bold', color: '#1976d2', fontSize: '13px' }}>\n                    {attachedFile.name}\n                  </div>\n                  <div style={{ fontSize: '11px', color: '#666' }}>\n                    {(attachedFile.size / 1024).toFixed(2)} KB\n                  </div>\n                </div>\n              </div>\n              <button\n                onClick={handleRemoveFile}\n                style={{\n                  background: 'transparent',\n                  border: 'none',\n                  cursor: 'pointer',\n                  color: '#f44336',\n                  padding: '5px',\n                  display: 'flex',\n                  alignItems: 'center'\n                }}\n              >\n                <X size={18} />\n              </button>\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} style={{ position: 'relative' }}>\n            <textarea\n              value={prompt}\n              onChange={(e) => setPrompt(e.target.value)}\n              placeholder={databaseMode ? \"Pregunta sobre tu base de datos (ej: Â¿CuÃ¡ntos registros hay en la tabla usuarios?)\" : \"Escribe tu mensaje aquÃ­...\"}\n              disabled={isLoading}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSubmit(e);\n                }\n              }}\n              style={{\n                width: '100%',\n                minHeight: '60px',\n                maxHeight: '150px',\n                padding: '12px 90px 12px 15px',\n                border: databaseMode ? '2px solid #FF9800' : '2px solid #ddd',\n                borderRadius: '8px',\n                fontSize: '15px',\n                fontFamily: 'inherit',\n                resize: 'vertical',\n                outline: 'none',\n                transition: 'border-color 0.3s',\n                backgroundColor: isLoading ? '#f9f9f9' : 'white'\n              }}\n              onFocus={(e) => e.target.style.borderColor = databaseMode ? '#FF9800' : '#4CAF50'}\n              onBlur={(e) => e.target.style.borderColor = databaseMode ? '#FF9800' : '#ddd'}\n            />\n\n            <div style={{\n              position: 'absolute',\n              right: '10px',\n              bottom: '10px',\n              display: 'flex',\n              gap: '8px'\n            }}>\n              {!databaseMode && (\n                <button\n                  type=\"button\"\n                  onClick={() => fileInputRef.current?.click()}\n                  disabled={isLoading}\n                  style={{\n                    background: 'transparent',\n                    border: 'none',\n                    cursor: isLoading ? 'not-allowed' : 'pointer',\n                    padding: '8px',\n                    borderRadius: '6px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    transition: 'background-color 0.2s'\n                  }}\n                  onMouseEnter={(e) => {\n                    if (!isLoading) e.currentTarget.style.backgroundColor = '#f0f0f0';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.backgroundColor = 'transparent';\n                  }}\n                >\n                  <Paperclip size={20} color={isLoading ? '#ccc' : '#666'} />\n                </button>\n              )}\n\n              <button\n                type=\"submit\"\n                disabled={isLoading || !prompt.trim()}\n                style={{\n                  padding: '8px 16px',\n                  backgroundColor: isLoading || !prompt.trim() ? '#ccc' : databaseMode ? '#FF9800' : '#4CAF50',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '6px',\n                  fontSize: '14px',\n                  fontWeight: 'bold',\n                  cursor: isLoading || !prompt.trim() ? 'not-allowed' : 'pointer',\n                  transition: 'background-color 0.3s'\n                }}\n              >\n                {isLoading ? 'â³' : 'ðŸš€'}\n              </button>\n            </div>\n\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\".sql,.txt,.js,.py,.java,.cpp,.c,.html,.css,.json,.xml,.csv\"\n              onChange={handleFileSelect}\n              style={{ display: 'none' }}\n            />\n          </form>\n\n          <div style={{\n            fontSize: '11px',\n            color: '#999',\n            marginTop: '8px',\n            textAlign: 'center'\n          }}>\n            {databaseMode\n              ? 'ðŸ—„ï¸ Modo BD: Tus preguntas generarÃ¡n y ejecutarÃ¡n SQL automÃ¡ticamente'\n              : 'Presiona Enter para enviar, Shift + Enter para nueva lÃ­nea'\n            }\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        \n        @keyframes bounce {\n          0%, 80%, 100% {\n            transform: scale(0);\n          }\n          40% {\n            transform: scale(1);\n          }\n        }\n        \n        * {\n          box-sizing: border-box;\n        }\n        \n        body {\n          margin: 0;\n          padding: 0;\n          background-color: #f5f5f5;\n        }\n      `}</style>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}